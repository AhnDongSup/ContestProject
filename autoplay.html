<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>


<body>
    <h1>
        영상 자동재생 소스
        <iframe width="600px" height="600px" src="https://www.youtube.com/embed/mWhlYTVxQcA?rel=0&amp;autoplay=1&mute=1&amp;loop=1;playlist=mWhlYTVxQcA" frameborder="0"></iframe>
        <!--   가로사이즈 세로사이즈 해준 뒤 -->                    <!--    /embed/뒤 영상 id값 불러오면 됨  playlist=id값-->

    </h1>
    <div id="player"></div>
    <script src="http://www.youtube.com/player_api"></script>
    <script type="text/javascript">
        var player;
        function onYouTubePlayerAPIReady() {
            player = new YT.Player("player", {
                width: "60%",
                height: "500",
                videoId: "mWhlYTVxQcA",
                events: {
                    onReady: onPlayerReady,
                    onStateChange: onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            event.target.playVideo();
        }
        function onPlayerStateChange(event) {
            if (event.data == 0) {
                window.location = "http://127.0.0.1:8000/";
            }
        }
        var autoplayVideoInterval = setInterval("autoplayVideo()",200);


      function autoplayVideo()
      {
        var promise = document.querySelector('video').play();
        if (promise !== undefined)
        {
          promise.then(function (_)
          {
            // Autoplay started!
            clearInterval(autoplayVideoInterval);

          }).catch(function (error) {// Autoplay was prevented.
            // Show a "Play" button so that user can start playback.
          });
        }
      }

    </script>    
</body>
</html>

